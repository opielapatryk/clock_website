<!DOCTYPE html>
<html>
<head>
    <title>Real Time Clock</title>
</head>
<body>
    <h1>
        Current time: <span id="clock"></span>   
    </h1>
    <h1>
        Select time zone: <span id="time_zone_selector"></span>
        <form action="">
            <select name="area" id="area">
                {% for row in rows %}
                <option value="{{row.5}}">{{row.1}}</option>
                
                {% endfor %}
            </select>
        </form>
    </h1>
    <h1>selected option: <span id="zone"></span></h1>
    
</body>
<script>
    offset = 0
    char = ''
    zone = document.getElementById("zone")
    document.getElementById("area").addEventListener("change", (e)=>{
        offset = parseInt(e.target.value[2])
        char = e.target.value[0]
    })
    
    function setTime(){
        let date = new Date();
        let hours = String(date.getUTCHours()).padStart(2, '0');
        if(char=="+"){
            hours = String((date.getUTCHours() + offset +24)%24).padStart(2, '0');
        }else{
            hours = String((date.getUTCHours() - offset +24)%24).padStart(2, '0');
        }
        let minutes = String(date.getUTCMinutes()).padStart(2, '0');
        let formattedTime = hours + ':' + minutes;
        document.getElementById('clock').innerHTML = formattedTime;
    };
    setTime();
    document.addEventListener('DOMContentLoaded', setInterval(function() {
        setTime()
    },1000));
</script>
</html>
